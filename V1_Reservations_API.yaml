openapi: 3.0.0
info:
  title: V1 AMS Winery Reservations API
  description: |
    RESTful API Access to the AMS Winery Reservations business object. These are reservations for events at the winery tasting room. There is always a DTC order associated with the reservations once they are submitted via a POST.
    <br/>
    <h1>Version Control Scheme</h1>
    <p>Versions will be relatively static, when breaking/logic changes occur a new version will be created.</p>
    <hr/>
    <h1>Revision Log</h1>
    <ul>
    <li>2019-11-27 - KAS - Brand new API design for exposing GETs and POSTs for reservations in the system.</li>
    <li>2021-09-15 - KAS - Clean up, re-organize a bit, and import into Stoplight Studio/ReadMe. This involves the introduction of 'model' files, rather than the 'domains' that SwaggerHub allows for.</li>
    </ul>
  contact:
    name: Helpdesk API Support
    email: apisupport@amssoftware.com
    url: 'http://www.amssoftware.com'
  license:
    name: License Required
    url: 'http://www.amssoftware.com'
  version: '2019-11-27'
servers:
  - description: Development Server
    url: 'https://thor2012-test.amscloudconnect.amssoftware.com/api'
security:
  - AMSBearerAuth: []
tags:
  - name: ReservationsGET
    description: GETs to the API resource that represents a winery event reservation.
  - name: ReservationsPOST
    description: POSTs to the API resource that represents a winery event reservation.
paths:
  /winery/v1/reservations:
    get:
      operationId: getV1ReservationQueryResults
      tags:
        - ReservationsGET
      summary: Returns a list of reservations when provided appropriate query parameters.
      description: 'Perform a search for reservations via various query metrics. If more than 1000 results are found, then the query must be made more specific with additional query parameters.'
      parameters:
        - name: reservation_status
          in: query
          description: 'Status for reservations. Accepted parameter values are PENDING, REQUESTED, RESERVED, SHOWED, NO-SHOW, or CANCELED.'
          required: false
          schema:
            title: ReservationStatusEnum
            x-tags:
              - Enumeration
            type: string
            maxLength: 10
            enum:
              - Pending
              - Requested
              - Reserved
              - Arrived
              - No-Show
              - Canceled
            example: Reserved
        - name: email
          in: query
          description: Parameter value will be used to find reservations by comparing the value to the email on a reservation. The comparison will be made using a 'contains' methodology.
          required: false
          schema:
            type: string
        - name: phone
          in: query
          description: Parameter value will be used to find reservations by comparing the value to the phone number on a reservation. The comparison will be made using a 'contains' methodology.
          required: false
          schema:
            type: string
        - name: customer_id
          in: query
          description: 'Parameter value will be used to contextualize the API request. Specifically, it will contextualize the request to one DTC customer.'
          required: false
          schema:
            type: integer
        - name: created_date
          in: query
          description: 'Date that will be used to find reservations by comparing the value to the created date on a reservation. Expected date format is MMDDYY. Query values can be <MMDDYY, >MMDDYY, or a date range MMDDYY-MMDDYY.'
          required: false
          schema:
            type: string
        - name: reservation_date
          in: query
          description: 'Date that will be used to find reservations by comparing the value to the reservation date on a reservation. Expected date format is MMDDYY. Query values can be <MMDDYY, >MMDDYY, or a date range MMDDYY-MMDDYY.'
          required: false
          schema:
            type: string
        - name: comped_flag
          in: query
          description: Parameter will indicate whether to include reservations that have been comped or not. Valid values are TRUE and FALSE
          required: false
          schema:
            type: string
        - name: origin
          in: query
          description: Origin for a reservation. Accepted parameter values are INTERNAL or EXTERNAL.
          required: false
          schema:
            type: string
        - name: confirmation_sent_flag
          in: query
          description: Parameter will indicate whether to include reservations that have had a confirmation email sent or not. Valid values are TRUE and FALSE
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Ok - The query of the reservations resource was successful.
          content:
            application/json:
              schema:
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: false
                      endpoint_response:
                        type: object
                        properties:
                          query_results:
                            type: object
                            properties:
                              reservations_found:
                                type: integer
                                example: 1
                              reservations:
                                type: array
                                items:
                                  title: V1GETReservationObject
                                  type: object
                                  properties:
                                    comped_clerk_id:
                                      type: string
                                      maxLength: 4
                                      example: KS
                                    comped_flag:
                                      type: boolean
                                      example: true
                                    confirmation_sent_flag:
                                      type: boolean
                                      example: true
                                    created_date:
                                      type: string
                                      maxLength: 10
                                      example: 09/09/2019
                                    ctc_customer_type_code:
                                      type: string
                                      maxLength: 4
                                      example: RETL
                                    customer_id:
                                      type: integer
                                      minimum: 1
                                      maximum: 999999
                                      example: 9867
                                    discount_per_unit:
                                      type: number
                                      minimum: -9999999.99
                                      maximum: 9999999.99
                                      example: 0
                                    email:
                                      type: string
                                      maxLength: 60
                                      example: joe@someemailprovider.com
                                    event_date:
                                      type: string
                                      maxLength: 10
                                      example: 10/01/2019
                                    event_name:
                                      type: string
                                      maxLength: 20
                                      example: Red Wine Sitdown
                                    event_time:
                                      type: string
                                      maxLength: 5
                                      example: '13:00'
                                    event_type:
                                      title: EventTypeEnum
                                      x-tags:
                                        - Enumeration
                                      type: string
                                      maxLength: 14
                                      enum:
                                        - No Charge
                                        - Pay On Arrival
                                        - Pay At Booking
                                      example: Pay At Booking
                                    first_name:
                                      type: string
                                      maxLength: 20
                                      example: Joe
                                    last_clerk_id:
                                      type: string
                                      maxLength: 4
                                      example: KS
                                    last_name:
                                      type: string
                                      maxLength: 20
                                      example: Schmo
                                    net_price_per_reservation:
                                      type: number
                                      minimum: -9999999.99
                                      maximum: 9999999.99
                                      example: 12.99
                                    number_comped:
                                      type: integer
                                      minimum: 0
                                      maximum: 999999999
                                      example: 0
                                    number_paid:
                                      type: integer
                                      minimum: 0
                                      maximum: 999999999
                                      example: 3
                                    number_reserved:
                                      type: integer
                                      minimum: 1
                                      maximum: 999999999
                                      example: 3
                                    number_showed:
                                      type: integer
                                      minimum: 1
                                      maximum: 999999999
                                      example: 2
                                    order_id:
                                      type: integer
                                      minimum: 1
                                      maximum: 999999999
                                      example: 156798
                                    original_clerk_id:
                                      type: string
                                      maxLength: 4
                                      example: KS
                                    origin:
                                      title: EventOriginEnum
                                      x-tags:
                                        - Enumeration
                                      type: string
                                      maxLength: 8
                                      enum:
                                        - Internal
                                        - External
                                      example: Internal
                                    phone:
                                      type: string
                                      maxLength: 15
                                      example: (330)412-2775
                                    price_as_of_date:
                                      type: string
                                      maxLength: 10
                                      example: 09/09/2019
                                    reservation_status:
                                      title: ReservationStatusEnum
                                      x-tags:
                                        - Enumeration
                                      type: string
                                      maxLength: 10
                                      enum:
                                        - Pending
                                        - Requested
                                        - Reserved
                                        - Arrived
                                        - No-Show
                                        - Canceled
                                      example: Reserved
                                    state:
                                      type: string
                                      maxLength: 2
                                      example: CA
        '400':
          description: The query parameters used in the query of the dtc_customers endpoint were invalid.
          content:
            application/json:
              schema:
                title: Bad Request - Invalid Query Parameters Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        title: HandlerHttpErrorMessage
                        x-tags:
                          - Message
                        type: string
                        example: The API handler indicated an error condition via the HTTP return code.
                      endpoint_response:
                        type: object
                        properties:
                          potential_query_parameters:
                            title: PotentialQueryParms
                            type: array
                            minItems: 1
                            items:
                              anyOf:
                                - title: QueryParm1Object
                                  type: object
                                  properties:
                                    parameter_name:
                                      type: string
                                      example: FIXED_STRING_PARM
                                    parameter_type:
                                      type: string
                                      example: 'Standard parameter (fixed values, see further messaging in the parameter_notes)'
                                    parameter_notes:
                                      type: string
                                      example: This fixed string parm represents a parameter that must have one of a discrete number of possible values. This message will contain information about the possible values.
                                - title: QueryParm2Object
                                  type: object
                                  properties:
                                    parameter_name:
                                      type: string
                                      example: STRING_SEARCH_PARM
                                    parameter_type:
                                      type: string
                                      example: String search parameter (generally contains type text search)
                                    parameter_notes:
                                      type: string
                                      example: 'This string_search_parm represents a parameter the will use some form of text matching to limit results. Generally, the text search methodology will be of the contains type, however, the returned notes will specify the type of search methodology.'
                                - title: QueryParm3Object
                                  type: object
                                  properties:
                                    parameter_name:
                                      type: string
                                      example: NUMERIC_PARM
                                    parameter_type:
                                      type: string
                                      example: Numeric parameter
                                    parameter_notes:
                                      type: string
                                      example: This numeric_parm represents a parameter that will be compared to some numeric property of an API resource. There are three formats form numeric values and each indicates a different type of numeric comparison. >999 represents a greater than search. <999 represents a less than search. 999-1000 represents an inclusive range search.
                                - title: QueryParm4Object
                                  type: object
                                  properties:
                                    parameter_name:
                                      type: string
                                      example: DATE_PARM
                                    parameter_type:
                                      type: string
                                      example: Date parameter
                                    parameter_notes:
                                      type: string
                                      example: This date_parm represents a parameter that will be compared to some date property of an API resource. There are three formats form date values and each indicates a different type of date comparison. >MMDDYY represents a greater than date search. <MMDDYY represents a less than date search. MMDDYY-MMDDYY represents an inclusive date range search.
        '401':
          description: The authorization GUID used in the request was invalid/expired or the authorization header itself was missing.
          content:
            application/json:
              schema:
                title: Unauthorized - Invalid/Missing Authorization GUID Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: Invalid authorization GUID.
        '403':
          description: The API User does not have access to the requested resource.
          content:
            application/json:
              schema:
                title: Forbidden - Access Not Permitted Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    required:
                      - error_state
                      - error_msg
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        oneOf:
                          - title: HandlerHttpErrorMessage
                            x-tags:
                              - Message
                            type: string
                            example: The API handler indicated an error condition via the HTTP return code.
                          - title: InvalidImpersonationGuidMessage
                            x-tags:
                              - Message
                            type: string
                            example: Invalid Impersonation Guid
                      endpoint_response:
                        type: object
                        properties:
                          error_msg:
                            oneOf:
                              - title: NoApiAccessMessage
                                x-tags:
                                  - Message
                                type: string
                                example: User does not have access to the called method on the called resource.
                              - title: AmsUserImpersonationFailureMessage
                                x-tags:
                                  - Message
                                type: string
                                example: User does not have access to the GET method on the dtc_orders API resource
                              - title: DtcCustImpersonationFailureMessage
                                x-tags:
                                  - Message
                                type: string
                                example: 'When impersonating a DTC customer, only actions on that customer are allowed'
    post:
      operationId: addV1Reservation
      tags:
        - ReservationsPOST
      summary: Allows the creation of a reservation resource.
      description: Adds a reservation resource to the database.
      requestBody:
        description: Request body for posting a reservation resource to the database. All components of the object are required to be present. Components with a non-zero minimum length require a value.
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - credit_card_token
                - customer_id
                - email
                - event_date
                - event_name
                - event_time
                - first_name
                - last_name
                - number_to_reserve
                - phone
                - state_code
              properties:
                credit_card_token:
                  type: string
                  maxLength: 16
                  example: 4009xsdrlkjepoie
                customer_id:
                  type: integer
                  minimum: 1
                  maximum: 999999
                  example: 9876
                email:
                  type: string
                  minLength: 7
                  maxLength: 60
                  example: joeschmo@emailprovider.com
                event_date:
                  type: string
                  minLength: 10
                  maxLength: 10
                  example: 10/01/2019
                event_name:
                  type: string
                  minLength: 1
                  maxLength: 20
                  example: Red Wine Tasting
                event_time:
                  type: string
                  minLength: 5
                  maxLength: 5
                  example: '13:00'
                first_name:
                  type: string
                  minLength: 1
                  maxLength: 20
                  example: Joe
                last_name:
                  type: string
                  minLength: 1
                  maxLength: 20
                  example: Schmo
                number_to_reserve:
                  type: integer
                  minimum: 1
                  maximum: 999999999
                  example: 2
                phone:
                  type: string
                  maxLength: 15
                  example: (330)412-2775
                state_code:
                  type: string
                  maxLength: 2
                  example: NV
      responses:
        '201':
          description: Created - The provided reservation data was valid and a new reservations resource was created.
          content:
            application/json:
              schema:
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: false
                      endpoint_response:
                        type: object
                        properties:
                          reservation:
                            title: V1GETReservationObject
                            type: object
                            properties:
                              comped_clerk_id:
                                type: string
                                maxLength: 4
                                example: KS
                              comped_flag:
                                type: boolean
                                example: true
                              confirmation_sent_flag:
                                type: boolean
                                example: true
                              created_date:
                                type: string
                                maxLength: 10
                                example: 09/09/2019
                              ctc_customer_type_code:
                                type: string
                                maxLength: 4
                                example: RETL
                              customer_id:
                                type: integer
                                minimum: 1
                                maximum: 999999
                                example: 9867
                              discount_per_unit:
                                type: number
                                minimum: -9999999.99
                                maximum: 9999999.99
                                example: 0
                              email:
                                type: string
                                maxLength: 60
                                example: joe@someemailprovider.com
                              event_date:
                                type: string
                                maxLength: 10
                                example: 10/01/2019
                              event_name:
                                type: string
                                maxLength: 20
                                example: Red Wine Sitdown
                              event_time:
                                type: string
                                maxLength: 5
                                example: '13:00'
                              event_type:
                                title: EventTypeEnum
                                x-tags:
                                  - Enumeration
                                type: string
                                maxLength: 14
                                enum:
                                  - No Charge
                                  - Pay On Arrival
                                  - Pay At Booking
                                example: Pay At Booking
                              first_name:
                                type: string
                                maxLength: 20
                                example: Joe
                              last_clerk_id:
                                type: string
                                maxLength: 4
                                example: KS
                              last_name:
                                type: string
                                maxLength: 20
                                example: Schmo
                              net_price_per_reservation:
                                type: number
                                minimum: -9999999.99
                                maximum: 9999999.99
                                example: 12.99
                              number_comped:
                                type: integer
                                minimum: 0
                                maximum: 999999999
                                example: 0
                              number_paid:
                                type: integer
                                minimum: 0
                                maximum: 999999999
                                example: 3
                              number_reserved:
                                type: integer
                                minimum: 1
                                maximum: 999999999
                                example: 3
                              number_showed:
                                type: integer
                                minimum: 1
                                maximum: 999999999
                                example: 2
                              order_id:
                                type: integer
                                minimum: 1
                                maximum: 999999999
                                example: 156798
                              original_clerk_id:
                                type: string
                                maxLength: 4
                                example: KS
                              origin:
                                title: EventOriginEnum
                                x-tags:
                                  - Enumeration
                                type: string
                                maxLength: 8
                                enum:
                                  - Internal
                                  - External
                                example: Internal
                              phone:
                                type: string
                                maxLength: 15
                                example: (330)412-2775
                              price_as_of_date:
                                type: string
                                maxLength: 10
                                example: 09/09/2019
                              reservation_status:
                                title: ReservationStatusEnum
                                x-tags:
                                  - Enumeration
                                type: string
                                maxLength: 10
                                enum:
                                  - Pending
                                  - Requested
                                  - Reserved
                                  - Arrived
                                  - No-Show
                                  - Canceled
                                example: Reserved
                              state:
                                type: string
                                maxLength: 2
                                example: CA
        '400':
          description: The JSON body used in the POST request is invalid or one of the property values failed validation. Information will be provided indicating how to correct the issue.
          content:
            application/json:
              schema:
                title: Bad Request - Invalid Post Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        title: HandlerHttpErrorMessage
                        x-tags:
                          - Message
                        type: string
                        example: The API handler indicated an error condition via the HTTP return code.
                      endpoint_response:
                        oneOf:
                          - title: PropertyDataErrorResponse
                            type: object
                            properties:
                              error_message:
                                type: string
                                example: There were validation errors with the JSON data passed in. See below array for error messages.
                              property_data_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    property_data_error:
                                      type: string
                                      example: I have a problem with one of the property values that was passed in.
                          - title: JsonValidationErrorResponse
                            type: object
                            properties:
                              error_message:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_object:
                                title: ExampleObject
                                type: object
                                properties:
                                  object_property_1:
                                    type: string
                                    example: Required string property; Maximum Length = 30; Object description.
                                  object_property_2:
                                    type: string
                                    example: Required boolean property; Maximum Length = 0; Flag indicating something about the object.
                                  object_property_3:
                                    type: string
                                    example: Required string property; Minimum Length = 7; Maximum Length = 60; Primary email (XX@X.XX at minimum).
        '401':
          description: The authorization GUID used in the request was invalid/expired or the authorization header itself was missing.
          content:
            application/json:
              schema:
                title: Unauthorized - Invalid/Missing Authorization GUID Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: Invalid authorization GUID.
        '403':
          description: The API User does not have access to the requested resource.
          content:
            application/json:
              schema:
                title: Forbidden - Access Not Permitted Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    required:
                      - error_state
                      - error_msg
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        oneOf:
                          - title: HandlerHttpErrorMessage
                            x-tags:
                              - Message
                            type: string
                            example: The API handler indicated an error condition via the HTTP return code.
                          - title: InvalidImpersonationGuidMessage
                            x-tags:
                              - Message
                            type: string
                            example: Invalid Impersonation Guid
                      endpoint_response:
                        type: object
                        properties:
                          error_msg:
                            oneOf:
                              - title: NoApiAccessMessage
                                x-tags:
                                  - Message
                                type: string
                                example: User does not have access to the called method on the called resource.
                              - title: AmsUserImpersonationFailureMessage
                                x-tags:
                                  - Message
                                type: string
                                example: User does not have access to the GET method on the dtc_orders API resource
                              - title: DtcCustImpersonationFailureMessage
                                x-tags:
                                  - Message
                                type: string
                                example: 'When impersonating a DTC customer, only actions on that customer are allowed'
components:
  securitySchemes:
    AMSBearerAuth:
      type: http
      scheme: bearer
  parameters:
    ReservationStatusQueryParm:
      name: reservation_status
      in: query
      description: 'Status for reservations. Accepted parameter values are PENDING, REQUESTED, RESERVED, SHOWED, NO-SHOW, or CANCELED.'
      required: false
      schema:
        title: ReservationStatusEnum
        x-tags:
          - Enumeration
        type: string
        maxLength: 10
        enum:
          - Pending
          - Requested
          - Reserved
          - Arrived
          - No-Show
          - Canceled
        example: Reserved
    EmailQueryParm:
      name: email
      in: query
      description: Parameter value will be used to find reservations by comparing the value to the email on a reservation. The comparison will be made using a 'contains' methodology.
      required: false
      schema:
        type: string
    PhoneQueryParm:
      name: phone
      in: query
      description: Parameter value will be used to find reservations by comparing the value to the phone number on a reservation. The comparison will be made using a 'contains' methodology.
      required: false
      schema:
        type: string
    CreatedDateQueryParm:
      name: created_date
      in: query
      description: 'Date that will be used to find reservations by comparing the value to the created date on a reservation. Expected date format is MMDDYY. Query values can be <MMDDYY, >MMDDYY, or a date range MMDDYY-MMDDYY.'
      required: false
      schema:
        type: string
    ReservationDateQueryParm:
      name: reservation_date
      in: query
      description: 'Date that will be used to find reservations by comparing the value to the reservation date on a reservation. Expected date format is MMDDYY. Query values can be <MMDDYY, >MMDDYY, or a date range MMDDYY-MMDDYY.'
      required: false
      schema:
        type: string
    CompFlagQueryParm:
      name: comped_flag
      in: query
      description: Parameter will indicate whether to include reservations that have been comped or not. Valid values are TRUE and FALSE
      required: false
      schema:
        type: string
    OriginQueryParm:
      name: origin
      in: query
      description: Origin for a reservation. Accepted parameter values are INTERNAL or EXTERNAL.
      required: false
      schema:
        type: string
    ConfirmationSentFlagQueryParm:
      name: confirmation_sent_flag
      in: query
      description: Parameter will indicate whether to include reservations that have had a confirmation email sent or not. Valid values are TRUE and FALSE
      required: false
      schema:
        type: string
    CustomerIdQueryParm:
      name: customer_id
      in: query
      description: 'Parameter value will be used to contextualize the API request. Specifically, it will contextualize the request to one DTC customer.'
      required: false
      schema:
        type: integer
  requestBodies:
    V1ReservationPostRequestBody:
      description: Request body for posting a reservation resource to the database. All components of the object are required to be present. Components with a non-zero minimum length require a value.
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - credit_card_token
              - customer_id
              - email
              - event_date
              - event_name
              - event_time
              - first_name
              - last_name
              - number_to_reserve
              - phone
              - state_code
            properties:
              credit_card_token:
                type: string
                maxLength: 16
                example: 4009xsdrlkjepoie
              customer_id:
                type: integer
                minimum: 1
                maximum: 999999
                example: 9876
              email:
                type: string
                minLength: 7
                maxLength: 60
                example: joeschmo@emailprovider.com
              event_date:
                type: string
                minLength: 10
                maxLength: 10
                example: 10/01/2019
              event_name:
                type: string
                minLength: 1
                maxLength: 20
                example: Red Wine Tasting
              event_time:
                type: string
                minLength: 5
                maxLength: 5
                example: '13:00'
              first_name:
                type: string
                minLength: 1
                maxLength: 20
                example: Joe
              last_name:
                type: string
                minLength: 1
                maxLength: 20
                example: Schmo
              number_to_reserve:
                type: integer
                minimum: 1
                maximum: 999999999
                example: 2
              phone:
                type: string
                maxLength: 15
                example: (330)412-2775
              state_code:
                type: string
                maxLength: 2
                example: NV
  responses:
    200SuccessfulV1ReservationsQuery:
      description: Ok - The query of the reservations resource was successful.
      content:
        application/json:
          schema:
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: false
                  endpoint_response:
                    type: object
                    properties:
                      query_results:
                        type: object
                        properties:
                          reservations_found:
                            type: integer
                            example: 1
                          reservations:
                            type: array
                            items:
                              title: V1GETReservationObject
                              type: object
                              properties:
                                comped_clerk_id:
                                  type: string
                                  maxLength: 4
                                  example: KS
                                comped_flag:
                                  type: boolean
                                  example: true
                                confirmation_sent_flag:
                                  type: boolean
                                  example: true
                                created_date:
                                  type: string
                                  maxLength: 10
                                  example: 09/09/2019
                                ctc_customer_type_code:
                                  type: string
                                  maxLength: 4
                                  example: RETL
                                customer_id:
                                  type: integer
                                  minimum: 1
                                  maximum: 999999
                                  example: 9867
                                discount_per_unit:
                                  type: number
                                  minimum: -9999999.99
                                  maximum: 9999999.99
                                  example: 0
                                email:
                                  type: string
                                  maxLength: 60
                                  example: joe@someemailprovider.com
                                event_date:
                                  type: string
                                  maxLength: 10
                                  example: 10/01/2019
                                event_name:
                                  type: string
                                  maxLength: 20
                                  example: Red Wine Sitdown
                                event_time:
                                  type: string
                                  maxLength: 5
                                  example: '13:00'
                                event_type:
                                  title: EventTypeEnum
                                  x-tags:
                                    - Enumeration
                                  type: string
                                  maxLength: 14
                                  enum:
                                    - No Charge
                                    - Pay On Arrival
                                    - Pay At Booking
                                  example: Pay At Booking
                                first_name:
                                  type: string
                                  maxLength: 20
                                  example: Joe
                                last_clerk_id:
                                  type: string
                                  maxLength: 4
                                  example: KS
                                last_name:
                                  type: string
                                  maxLength: 20
                                  example: Schmo
                                net_price_per_reservation:
                                  type: number
                                  minimum: -9999999.99
                                  maximum: 9999999.99
                                  example: 12.99
                                number_comped:
                                  type: integer
                                  minimum: 0
                                  maximum: 999999999
                                  example: 0
                                number_paid:
                                  type: integer
                                  minimum: 0
                                  maximum: 999999999
                                  example: 3
                                number_reserved:
                                  type: integer
                                  minimum: 1
                                  maximum: 999999999
                                  example: 3
                                number_showed:
                                  type: integer
                                  minimum: 1
                                  maximum: 999999999
                                  example: 2
                                order_id:
                                  type: integer
                                  minimum: 1
                                  maximum: 999999999
                                  example: 156798
                                original_clerk_id:
                                  type: string
                                  maxLength: 4
                                  example: KS
                                origin:
                                  title: EventOriginEnum
                                  x-tags:
                                    - Enumeration
                                  type: string
                                  maxLength: 8
                                  enum:
                                    - Internal
                                    - External
                                  example: Internal
                                phone:
                                  type: string
                                  maxLength: 15
                                  example: (330)412-2775
                                price_as_of_date:
                                  type: string
                                  maxLength: 10
                                  example: 09/09/2019
                                reservation_status:
                                  title: ReservationStatusEnum
                                  x-tags:
                                    - Enumeration
                                  type: string
                                  maxLength: 10
                                  enum:
                                    - Pending
                                    - Requested
                                    - Reserved
                                    - Arrived
                                    - No-Show
                                    - Canceled
                                  example: Reserved
                                state:
                                  type: string
                                  maxLength: 2
                                  example: CA
    201SuccessfulV1ReservationPost:
      description: Created - The provided reservation data was valid and a new reservations resource was created.
      content:
        application/json:
          schema:
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: false
                  endpoint_response:
                    type: object
                    properties:
                      reservation:
                        title: V1GETReservationObject
                        type: object
                        properties:
                          comped_clerk_id:
                            type: string
                            maxLength: 4
                            example: KS
                          comped_flag:
                            type: boolean
                            example: true
                          confirmation_sent_flag:
                            type: boolean
                            example: true
                          created_date:
                            type: string
                            maxLength: 10
                            example: 09/09/2019
                          ctc_customer_type_code:
                            type: string
                            maxLength: 4
                            example: RETL
                          customer_id:
                            type: integer
                            minimum: 1
                            maximum: 999999
                            example: 9867
                          discount_per_unit:
                            type: number
                            minimum: -9999999.99
                            maximum: 9999999.99
                            example: 0
                          email:
                            type: string
                            maxLength: 60
                            example: joe@someemailprovider.com
                          event_date:
                            type: string
                            maxLength: 10
                            example: 10/01/2019
                          event_name:
                            type: string
                            maxLength: 20
                            example: Red Wine Sitdown
                          event_time:
                            type: string
                            maxLength: 5
                            example: '13:00'
                          event_type:
                            title: EventTypeEnum
                            x-tags:
                              - Enumeration
                            type: string
                            maxLength: 14
                            enum:
                              - No Charge
                              - Pay On Arrival
                              - Pay At Booking
                            example: Pay At Booking
                          first_name:
                            type: string
                            maxLength: 20
                            example: Joe
                          last_clerk_id:
                            type: string
                            maxLength: 4
                            example: KS
                          last_name:
                            type: string
                            maxLength: 20
                            example: Schmo
                          net_price_per_reservation:
                            type: number
                            minimum: -9999999.99
                            maximum: 9999999.99
                            example: 12.99
                          number_comped:
                            type: integer
                            minimum: 0
                            maximum: 999999999
                            example: 0
                          number_paid:
                            type: integer
                            minimum: 0
                            maximum: 999999999
                            example: 3
                          number_reserved:
                            type: integer
                            minimum: 1
                            maximum: 999999999
                            example: 3
                          number_showed:
                            type: integer
                            minimum: 1
                            maximum: 999999999
                            example: 2
                          order_id:
                            type: integer
                            minimum: 1
                            maximum: 999999999
                            example: 156798
                          original_clerk_id:
                            type: string
                            maxLength: 4
                            example: KS
                          origin:
                            title: EventOriginEnum
                            x-tags:
                              - Enumeration
                            type: string
                            maxLength: 8
                            enum:
                              - Internal
                              - External
                            example: Internal
                          phone:
                            type: string
                            maxLength: 15
                            example: (330)412-2775
                          price_as_of_date:
                            type: string
                            maxLength: 10
                            example: 09/09/2019
                          reservation_status:
                            title: ReservationStatusEnum
                            x-tags:
                              - Enumeration
                            type: string
                            maxLength: 10
                            enum:
                              - Pending
                              - Requested
                              - Reserved
                              - Arrived
                              - No-Show
                              - Canceled
                            example: Reserved
                          state:
                            type: string
                            maxLength: 2
                            example: CA
    400BadParmsGetResponse:
      description: The query parameters used in the query of the dtc_customers endpoint were invalid.
      content:
        application/json:
          schema:
            title: Bad Request - Invalid Query Parameters Response
            x-tags:
              - FailureResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: true
                  error_msg:
                    title: HandlerHttpErrorMessage
                    x-tags:
                      - Message
                    type: string
                    example: The API handler indicated an error condition via the HTTP return code.
                  endpoint_response:
                    type: object
                    properties:
                      potential_query_parameters:
                        title: PotentialQueryParms
                        type: array
                        minItems: 1
                        items:
                          anyOf:
                            - title: QueryParm1Object
                              type: object
                              properties:
                                parameter_name:
                                  type: string
                                  example: FIXED_STRING_PARM
                                parameter_type:
                                  type: string
                                  example: 'Standard parameter (fixed values, see further messaging in the parameter_notes)'
                                parameter_notes:
                                  type: string
                                  example: This fixed string parm represents a parameter that must have one of a discrete number of possible values. This message will contain information about the possible values.
                            - title: QueryParm2Object
                              type: object
                              properties:
                                parameter_name:
                                  type: string
                                  example: STRING_SEARCH_PARM
                                parameter_type:
                                  type: string
                                  example: String search parameter (generally contains type text search)
                                parameter_notes:
                                  type: string
                                  example: 'This string_search_parm represents a parameter the will use some form of text matching to limit results. Generally, the text search methodology will be of the contains type, however, the returned notes will specify the type of search methodology.'
                            - title: QueryParm3Object
                              type: object
                              properties:
                                parameter_name:
                                  type: string
                                  example: NUMERIC_PARM
                                parameter_type:
                                  type: string
                                  example: Numeric parameter
                                parameter_notes:
                                  type: string
                                  example: This numeric_parm represents a parameter that will be compared to some numeric property of an API resource. There are three formats form numeric values and each indicates a different type of numeric comparison. >999 represents a greater than search. <999 represents a less than search. 999-1000 represents an inclusive range search.
                            - title: QueryParm4Object
                              type: object
                              properties:
                                parameter_name:
                                  type: string
                                  example: DATE_PARM
                                parameter_type:
                                  type: string
                                  example: Date parameter
                                parameter_notes:
                                  type: string
                                  example: This date_parm represents a parameter that will be compared to some date property of an API resource. There are three formats form date values and each indicates a different type of date comparison. >MMDDYY represents a greater than date search. <MMDDYY represents a less than date search. MMDDYY-MMDDYY represents an inclusive date range search.
    400BadPostResponse:
      description: The JSON body used in the POST request is invalid or one of the property values failed validation. Information will be provided indicating how to correct the issue.
      content:
        application/json:
          schema:
            title: Bad Request - Invalid Post Response
            x-tags:
              - FailureResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: true
                  error_msg:
                    title: HandlerHttpErrorMessage
                    x-tags:
                      - Message
                    type: string
                    example: The API handler indicated an error condition via the HTTP return code.
                  endpoint_response:
                    oneOf:
                      - title: PropertyDataErrorResponse
                        type: object
                        properties:
                          error_message:
                            type: string
                            example: There were validation errors with the JSON data passed in. See below array for error messages.
                          property_data_errors:
                            type: array
                            minItems: 1
                            items:
                              type: object
                              properties:
                                property_data_error:
                                  type: string
                                  example: I have a problem with one of the property values that was passed in.
                      - title: JsonValidationErrorResponse
                        type: object
                        properties:
                          error_message:
                            type: string
                            example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                          json_validation_errors:
                            type: array
                            minItems: 1
                            items:
                              type: object
                              properties:
                                json_validation_error:
                                  type: string
                                  example: I have a problem with the structure of the passed in JSON.
                          example_object:
                            title: ExampleObject
                            type: object
                            properties:
                              object_property_1:
                                type: string
                                example: Required string property; Maximum Length = 30; Object description.
                              object_property_2:
                                type: string
                                example: Required boolean property; Maximum Length = 0; Flag indicating something about the object.
                              object_property_3:
                                type: string
                                example: Required string property; Minimum Length = 7; Maximum Length = 60; Primary email (XX@X.XX at minimum).
    401UnauthorizedResponse:
      description: The authorization GUID used in the request was invalid/expired or the authorization header itself was missing.
      content:
        application/json:
          schema:
            title: Unauthorized - Invalid/Missing Authorization GUID Response
            x-tags:
              - FailureResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: true
                  error_msg:
                    type: string
                    example: Invalid authorization GUID.
    403ForbiddenResponse:
      description: The API User does not have access to the requested resource.
      content:
        application/json:
          schema:
            title: Forbidden - Access Not Permitted Response
            x-tags:
              - FailureResponse
            type: object
            properties:
              ams_api_response:
                type: object
                required:
                  - error_state
                  - error_msg
                properties:
                  error_state:
                    type: boolean
                    example: true
                  error_msg:
                    oneOf:
                      - title: HandlerHttpErrorMessage
                        x-tags:
                          - Message
                        type: string
                        example: The API handler indicated an error condition via the HTTP return code.
                      - title: InvalidImpersonationGuidMessage
                        x-tags:
                          - Message
                        type: string
                        example: Invalid Impersonation Guid
                  endpoint_response:
                    type: object
                    properties:
                      error_msg:
                        oneOf:
                          - title: NoApiAccessMessage
                            x-tags:
                              - Message
                            type: string
                            example: User does not have access to the called method on the called resource.
                          - title: AmsUserImpersonationFailureMessage
                            x-tags:
                              - Message
                            type: string
                            example: User does not have access to the GET method on the dtc_orders API resource
                          - title: DtcCustImpersonationFailureMessage
                            x-tags:
                              - Message
                            type: string
                            example: 'When impersonating a DTC customer, only actions on that customer are allowed'
  schemas:
    V1PostReservationObject:
      type: object
      required:
        - credit_card_token
        - customer_id
        - email
        - event_date
        - event_name
        - event_time
        - first_name
        - last_name
        - number_to_reserve
        - phone
        - state_code
      properties:
        credit_card_token:
          type: string
          maxLength: 16
          example: 4009xsdrlkjepoie
        customer_id:
          type: integer
          minimum: 1
          maximum: 999999
          example: 9876
        email:
          type: string
          minLength: 7
          maxLength: 60
          example: joeschmo@emailprovider.com
        event_date:
          type: string
          minLength: 10
          maxLength: 10
          example: 10/01/2019
        event_name:
          type: string
          minLength: 1
          maxLength: 20
          example: Red Wine Tasting
        event_time:
          type: string
          minLength: 5
          maxLength: 5
          example: '13:00'
        first_name:
          type: string
          minLength: 1
          maxLength: 20
          example: Joe
        last_name:
          type: string
          minLength: 1
          maxLength: 20
          example: Schmo
        number_to_reserve:
          type: integer
          minimum: 1
          maximum: 999999999
          example: 2
        phone:
          type: string
          maxLength: 15
          example: (330)412-2775
        state_code:
          type: string
          maxLength: 2
          example: NV
