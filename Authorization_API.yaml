openapi: 3.0.0
info:
  title: AMS Authorization API
  description: |-
    This API definition describes authorization methods for use in conjunction with he other API definitions. <br/> The type of authorization required for a given API call is determined by the type of client consuming the API and the business context of the client application. <br/>
    <h1>Version Control Scheme</h1> <p>Versions will be relatively static, when breaking/logic changes occur a new version will be created.</p>
    <h1>Revision Log</h1> <hr/> 
    <ul> 
    <li>2019-02-12 - KAS - Brand new.</li> 
    <li>2020-11-25 - TWS - Add Warehouse Development Server.</li> 
    <li>2021-08-16 - KAS - Clean up and "modernize". Also transition the file and format to Spotlight Studio/ReadMe. This involves the introductions of 'model' files as a replacement for the 'domains' concept that SwaggerHub uses. </li>
    </ul>
  version: '2019-02-12'
  contact:
    name: Helpdesk API Support
    email: apisupport@amssoftware.com
    url: 'http://www.amssoftware.com'
  license:
    name: License Required
    url: 'https://www.amssoftware.com'
tags:
  - name: ApiAuthorization
    description: General API Authorization
  - name: AmsUserImpersonation
    description: Impersonation as an AMS User
  - name: DtcCustomerImpersonation
    description: Impersonation as a DTC Customer
paths:
  /authorize:
    post:
      operationId: getAuthGuid
      security: []
      tags:
        - ApiAuthorization
      description: After authorization you will be given a bearer token that must be included with further requests.<br/>The token lifetime will renew with each use.
      requestBody:
        description: API User Authorization request body
        required: true
        content:
          application/json:
            schema:
              title: API User Credentials
              x-tags:
                - JsonRequestBody
              type: object
              description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
              properties:
                authorization_credentials:
                  type: object
                  description: API credentials provided by AMS upon agreement to use the API.
                  properties:
                    username:
                      type: string
                      description: API username
                      minLength: 1
                      maxLength: 30
                      example: JOEA
                    password:
                      type: string
                      description: API password
                      maxLength: 30
                      minLength: 4
                      example: '1234'
                  required:
                    - username
                    - password
              required:
                - authorization_credentials
      responses:
        '200':
          description: API User Authorization OK
          content:
            application/json:
              schema:
                title: 200 - Successful API User Authorization Response
                x-tags:
                  - SuccessResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: false
                      authorization_return:
                        type: object
                        properties:
                          authorization_msg:
                            type: string
                            example: 'Welcome Joe Schmo, this GUID must be sent with all subsequent API requests. Every susequent API request with the GUID will refresh the timeout timer. See the guid_timeout property for the length of the timeout timer.'
                          authorization_guid:
                            type: string
                            example: asdfjl-21l34kj-asdflkj
                          guid_timeout_minutes:
                            type: integer
                            example: 30
        '400':
          description: Bad Authorization Malformed request
          content:
            application/json:
              schema:
                x-tags:
                  - FailureResponse
                oneOf:
                  - title: Bad API User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: API User Credentials
                                x-tags:
                                  - JsonRequestBody
                                type: object
                                description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: API credentials provided by AMS upon agreement to use the API.
                                    properties:
                                      username:
                                        type: string
                                        description: API username
                                        minLength: 1
                                        maxLength: 30
                                        example: JOEA
                                      password:
                                        type: string
                                        description: API password
                                        maxLength: 30
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad AMS User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: AMS User Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: AMS User credentials provided by the AMS customer.
                                    properties:
                                      username:
                                        type: string
                                        description: AMS username
                                        minLength: 2
                                        maxLength: 8
                                        example: JOEA
                                      password:
                                        type: string
                                        description: AMS password
                                        maxLength: 8
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad DTC Customer Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: DTC Customer INET Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: DTC Customer credentials created/maintained by the customer.
                                    properties:
                                      system_id:
                                        type: string
                                        description: The system ID context to which the DTC customer credentials belong.
                                        maxLength: 4
                                        minLength: 3
                                        example: WAPI
                                      username:
                                        type: string
                                        description: The DTC customer username (email)
                                        maxLength: 60
                                        minLength: 7
                                        example: joeschmo@thiswinery.com
                                      password:
                                        type: string
                                        description: The DTC customer password
                                        maxLength: 20
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                      - system_id
                                required:
                                  - authorization_credentials
        '401':
          description: Unauthorized - Invalid API credentials
          content:
            application/json:
              schema:
                title: 401 - Invalid API User Credentials Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: Invalid username or password
  /winery/v1/user_login:
    post:
      operationId: getWinUserImpersonationGuid
      security:
        - AMSBearerAuth: []
      tags:
        - AmsUserImpersonation
      description: By posting a request body representing AMS user credentials you can obtain a GUID that allows API calls to be made "on behalf of" an AMS user.<br />This GUID must be passed on future requests as a custom header "Impersonation-Token" along with the bearer token obtained prior.
      requestBody:
        description: AMS User Authorization Credentials
        required: true
        content:
          application/json:
            schema:
              title: AMS User Credentials
              x-tags:
                - JsonRequestBody
              description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
              type: object
              properties:
                authorization_credentials:
                  type: object
                  description: AMS User credentials provided by the AMS customer.
                  properties:
                    username:
                      type: string
                      description: AMS username
                      minLength: 2
                      maxLength: 8
                      example: JOEA
                    password:
                      type: string
                      description: AMS password
                      maxLength: 8
                      minLength: 4
                      example: '1234'
                  required:
                    - username
                    - password
              required:
                - authorization_credentials
      responses:
        '200':
          description: AMS User Authorization OK
          content:
            application/json:
              schema:
                title: 200 - Successful AMS User Authorization Response
                x-tags:
                  - SuccessResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: false
                      endpoint_response:
                        title: Impersonation Token Information
                        x-tags:
                          - JsonReturnBody
                        type: object
                        properties:
                          impersonation_token:
                            type: string
                            example: adsjfkl-1243-alsdjkf
                          token_timeout_minutes:
                            type: integer
                            example: 30
        '400':
          description: Bad Authorization Malformed request
          content:
            application/json:
              schema:
                x-tags:
                  - FailureResponse
                oneOf:
                  - title: Bad API User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: API User Credentials
                                x-tags:
                                  - JsonRequestBody
                                type: object
                                description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: API credentials provided by AMS upon agreement to use the API.
                                    properties:
                                      username:
                                        type: string
                                        description: API username
                                        minLength: 1
                                        maxLength: 30
                                        example: JOEA
                                      password:
                                        type: string
                                        description: API password
                                        maxLength: 30
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad AMS User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: AMS User Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: AMS User credentials provided by the AMS customer.
                                    properties:
                                      username:
                                        type: string
                                        description: AMS username
                                        minLength: 2
                                        maxLength: 8
                                        example: JOEA
                                      password:
                                        type: string
                                        description: AMS password
                                        maxLength: 8
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad DTC Customer Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: DTC Customer INET Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: DTC Customer credentials created/maintained by the customer.
                                    properties:
                                      system_id:
                                        type: string
                                        description: The system ID context to which the DTC customer credentials belong.
                                        maxLength: 4
                                        minLength: 3
                                        example: WAPI
                                      username:
                                        type: string
                                        description: The DTC customer username (email)
                                        maxLength: 60
                                        minLength: 7
                                        example: joeschmo@thiswinery.com
                                      password:
                                        type: string
                                        description: The DTC customer password
                                        maxLength: 20
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                      - system_id
                                required:
                                  - authorization_credentials
        '401':
          description: Unauthorized - Invalid Authorization GUID
          content:
            application/json:
              schema:
                title: Unauthorized - Invalid/Missing Authorization GUID Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: Invalid authorization GUID.
  /winery/v1/cust_login:
    post:
      operationId: getWinCustImpersonationGuid
      security:
        - AMSBearerAuth: []
      tags:
        - DtcCustomerImpersonation
      description: By posting a request body representing DTC customer credentials you can obtain a GUID that allows API calls to be made "on behalf of" a DTC customer.<br />This GUID must be passed on future requests as a custom header "Impersonation-Token" along with the bearer token obtained prior.
      requestBody:
        description: DTC Customer Authorization Credentials
        required: true
        content:
          application/json:
            schema:
              title: DTC Customer INET Credentials
              x-tags:
                - JsonRequestBody
              description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
              type: object
              properties:
                authorization_credentials:
                  type: object
                  description: DTC Customer credentials created/maintained by the customer.
                  properties:
                    system_id:
                      type: string
                      description: The system ID context to which the DTC customer credentials belong.
                      maxLength: 4
                      minLength: 3
                      example: WAPI
                    username:
                      type: string
                      description: The DTC customer username (email)
                      maxLength: 60
                      minLength: 7
                      example: joeschmo@thiswinery.com
                    password:
                      type: string
                      description: The DTC customer password
                      maxLength: 20
                      minLength: 4
                      example: '1234'
                  required:
                    - username
                    - password
                    - system_id
              required:
                - authorization_credentials
      responses:
        '200':
          description: DTC Customer Authorization OK
          content:
            application/json:
              schema:
                title: 200 - Successful DTC Customer Authorization Response
                x-tags:
                  - SuccessResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: false
                      endpoint_response:
                        title: Impersonation Token Information
                        x-tags:
                          - JsonReturnBody
                        type: object
                        properties:
                          impersonation_token:
                            type: string
                            example: adsjfkl-1243-alsdjkf
                          token_timeout_minutes:
                            type: integer
                            example: 30
        '400':
          description: Bad Authorization Malformed request
          content:
            application/json:
              schema:
                x-tags:
                  - FailureResponse
                oneOf:
                  - title: Bad API User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: API User Credentials
                                x-tags:
                                  - JsonRequestBody
                                type: object
                                description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: API credentials provided by AMS upon agreement to use the API.
                                    properties:
                                      username:
                                        type: string
                                        description: API username
                                        minLength: 1
                                        maxLength: 30
                                        example: JOEA
                                      password:
                                        type: string
                                        description: API password
                                        maxLength: 30
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad AMS User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: AMS User Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: AMS User credentials provided by the AMS customer.
                                    properties:
                                      username:
                                        type: string
                                        description: AMS username
                                        minLength: 2
                                        maxLength: 8
                                        example: JOEA
                                      password:
                                        type: string
                                        description: AMS password
                                        maxLength: 8
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad DTC Customer Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: DTC Customer INET Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: DTC Customer credentials created/maintained by the customer.
                                    properties:
                                      system_id:
                                        type: string
                                        description: The system ID context to which the DTC customer credentials belong.
                                        maxLength: 4
                                        minLength: 3
                                        example: WAPI
                                      username:
                                        type: string
                                        description: The DTC customer username (email)
                                        maxLength: 60
                                        minLength: 7
                                        example: joeschmo@thiswinery.com
                                      password:
                                        type: string
                                        description: The DTC customer password
                                        maxLength: 20
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                      - system_id
                                required:
                                  - authorization_credentials
        '401':
          description: Unauthorized - Invalid Authorization GUID
          content:
            application/json:
              schema:
                title: Unauthorized - Invalid/Missing Authorization GUID Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: Invalid authorization GUID.
  /warehouse/v1/user_login:
    post:
      operationId: getWhsUserImpersonationGuid
      security:
        - AMSBearerAuth: []
      tags:
        - AmsUserImpersonation
      description: By posting a request body representing AMS user credentials you can obtain a GUID that allows API calls to be made "on behalf of" an AMS user.<br />This GUID must be passed on future requests as a custom header "Impersonation-Token" along with the bearer token obtained prior.
      requestBody:
        description: AMS User Authorization Credentials
        required: true
        content:
          application/json:
            schema:
              title: AMS User Credentials
              x-tags:
                - JsonRequestBody
              description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
              type: object
              properties:
                authorization_credentials:
                  type: object
                  description: AMS User credentials provided by the AMS customer.
                  properties:
                    username:
                      type: string
                      description: AMS username
                      minLength: 2
                      maxLength: 8
                      example: JOEA
                    password:
                      type: string
                      description: AMS password
                      maxLength: 8
                      minLength: 4
                      example: '1234'
                  required:
                    - username
                    - password
              required:
                - authorization_credentials
      responses:
        '200':
          description: AMS User Authorization OK
          content:
            application/json:
              schema:
                title: 200 - Successful AMS User Authorization Response
                x-tags:
                  - SuccessResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: false
                      endpoint_response:
                        title: Impersonation Token Information
                        x-tags:
                          - JsonReturnBody
                        type: object
                        properties:
                          impersonation_token:
                            type: string
                            example: adsjfkl-1243-alsdjkf
                          token_timeout_minutes:
                            type: integer
                            example: 30
        '400':
          description: Bad Authorization Malformed request
          content:
            application/json:
              schema:
                x-tags:
                  - FailureResponse
                oneOf:
                  - title: Bad API User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: API User Credentials
                                x-tags:
                                  - JsonRequestBody
                                type: object
                                description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: API credentials provided by AMS upon agreement to use the API.
                                    properties:
                                      username:
                                        type: string
                                        description: API username
                                        minLength: 1
                                        maxLength: 30
                                        example: JOEA
                                      password:
                                        type: string
                                        description: API password
                                        maxLength: 30
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad AMS User Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: AMS User Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: AMS User credentials provided by the AMS customer.
                                    properties:
                                      username:
                                        type: string
                                        description: AMS username
                                        minLength: 2
                                        maxLength: 8
                                        example: JOEA
                                      password:
                                        type: string
                                        description: AMS password
                                        maxLength: 8
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                required:
                                  - authorization_credentials
                  - title: Bad DTC Customer Credentials Format Response
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      ams_api_response:
                        type: object
                        properties:
                          error_state:
                            type: boolean
                            example: true
                          error_msg:
                            type: string
                            example: The APi handler indicated an error condition via the HTTP return code
                          endpoint_response:
                            type: object
                            properties:
                              error_msg:
                                type: string
                                example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                              json_validation_errors:
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    json_validation_error:
                                      type: string
                                      example: I have a problem with the structure of the passed in JSON.
                              example_request_body:
                                title: DTC Customer INET Credentials
                                x-tags:
                                  - JsonRequestBody
                                description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                                type: object
                                properties:
                                  authorization_credentials:
                                    type: object
                                    description: DTC Customer credentials created/maintained by the customer.
                                    properties:
                                      system_id:
                                        type: string
                                        description: The system ID context to which the DTC customer credentials belong.
                                        maxLength: 4
                                        minLength: 3
                                        example: WAPI
                                      username:
                                        type: string
                                        description: The DTC customer username (email)
                                        maxLength: 60
                                        minLength: 7
                                        example: joeschmo@thiswinery.com
                                      password:
                                        type: string
                                        description: The DTC customer password
                                        maxLength: 20
                                        minLength: 4
                                        example: '1234'
                                    required:
                                      - username
                                      - password
                                      - system_id
                                required:
                                  - authorization_credentials
        '401':
          description: Unauthorized - Invalid Authorization GUID
          content:
            application/json:
              schema:
                title: Unauthorized - Invalid/Missing Authorization GUID Response
                x-tags:
                  - FailureResponse
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: Invalid authorization GUID.
components:
  requestBodies:
    ApiAuthRequestBody:
      description: API User Authorization request body
      required: true
      content:
        application/json:
          schema:
            title: API User Credentials
            x-tags:
              - JsonRequestBody
            type: object
            description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
            properties:
              authorization_credentials:
                type: object
                description: API credentials provided by AMS upon agreement to use the API.
                properties:
                  username:
                    type: string
                    description: API username
                    minLength: 1
                    maxLength: 30
                    example: JOEA
                  password:
                    type: string
                    description: API password
                    maxLength: 30
                    minLength: 4
                    example: '1234'
                required:
                  - username
                  - password
            required:
              - authorization_credentials
    UserAuthRequestBody:
      description: AMS User Authorization Credentials
      required: true
      content:
        application/json:
          schema:
            title: AMS User Credentials
            x-tags:
              - JsonRequestBody
            description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
            type: object
            properties:
              authorization_credentials:
                type: object
                description: AMS User credentials provided by the AMS customer.
                properties:
                  username:
                    type: string
                    description: AMS username
                    minLength: 2
                    maxLength: 8
                    example: JOEA
                  password:
                    type: string
                    description: AMS password
                    maxLength: 8
                    minLength: 4
                    example: '1234'
                required:
                  - username
                  - password
            required:
              - authorization_credentials
    CustAuthRequestBody:
      description: DTC Customer Authorization Credentials
      required: true
      content:
        application/json:
          schema:
            title: DTC Customer INET Credentials
            x-tags:
              - JsonRequestBody
            description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
            type: object
            properties:
              authorization_credentials:
                type: object
                description: DTC Customer credentials created/maintained by the customer.
                properties:
                  system_id:
                    type: string
                    description: The system ID context to which the DTC customer credentials belong.
                    maxLength: 4
                    minLength: 3
                    example: WAPI
                  username:
                    type: string
                    description: The DTC customer username (email)
                    maxLength: 60
                    minLength: 7
                    example: joeschmo@thiswinery.com
                  password:
                    type: string
                    description: The DTC customer password
                    maxLength: 20
                    minLength: 4
                    example: '1234'
                required:
                  - username
                  - password
                  - system_id
            required:
              - authorization_credentials
  responses:
    200SuccessfulApiAuthResponse:
      description: API User Authorization OK
      content:
        application/json:
          schema:
            title: 200 - Successful API User Authorization Response
            x-tags:
              - SuccessResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: false
                  authorization_return:
                    type: object
                    properties:
                      authorization_msg:
                        type: string
                        example: 'Welcome Joe Schmo, this GUID must be sent with all subsequent API requests. Every susequent API request with the GUID will refresh the timeout timer. See the guid_timeout property for the length of the timeout timer.'
                      authorization_guid:
                        type: string
                        example: asdfjl-21l34kj-asdflkj
                      guid_timeout_minutes:
                        type: integer
                        example: 30
    200SuccessfulUserAuthResponse:
      description: AMS User Authorization OK
      content:
        application/json:
          schema:
            title: 200 - Successful AMS User Authorization Response
            x-tags:
              - SuccessResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: false
                  endpoint_response:
                    title: Impersonation Token Information
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      impersonation_token:
                        type: string
                        example: adsjfkl-1243-alsdjkf
                      token_timeout_minutes:
                        type: integer
                        example: 30
    200SuccessfulCustAuthResponse:
      description: DTC Customer Authorization OK
      content:
        application/json:
          schema:
            title: 200 - Successful DTC Customer Authorization Response
            x-tags:
              - SuccessResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: false
                  endpoint_response:
                    title: Impersonation Token Information
                    x-tags:
                      - JsonReturnBody
                    type: object
                    properties:
                      impersonation_token:
                        type: string
                        example: adsjfkl-1243-alsdjkf
                      token_timeout_minutes:
                        type: integer
                        example: 30
    400BadAuthResponse:
      description: Bad Authorization Malformed request
      content:
        application/json:
          schema:
            x-tags:
              - FailureResponse
            oneOf:
              - title: Bad API User Credentials Format Response
                x-tags:
                  - JsonReturnBody
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: The APi handler indicated an error condition via the HTTP return code
                      endpoint_response:
                        type: object
                        properties:
                          error_msg:
                            type: string
                            example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                          json_validation_errors:
                            type: array
                            minItems: 1
                            items:
                              type: object
                              properties:
                                json_validation_error:
                                  type: string
                                  example: I have a problem with the structure of the passed in JSON.
                          example_request_body:
                            title: API User Credentials
                            x-tags:
                              - JsonRequestBody
                            type: object
                            description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
                            properties:
                              authorization_credentials:
                                type: object
                                description: API credentials provided by AMS upon agreement to use the API.
                                properties:
                                  username:
                                    type: string
                                    description: API username
                                    minLength: 1
                                    maxLength: 30
                                    example: JOEA
                                  password:
                                    type: string
                                    description: API password
                                    maxLength: 30
                                    minLength: 4
                                    example: '1234'
                                required:
                                  - username
                                  - password
                            required:
                              - authorization_credentials
              - title: Bad AMS User Credentials Format Response
                x-tags:
                  - JsonReturnBody
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: The APi handler indicated an error condition via the HTTP return code
                      endpoint_response:
                        type: object
                        properties:
                          error_msg:
                            type: string
                            example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                          json_validation_errors:
                            type: array
                            minItems: 1
                            items:
                              type: object
                              properties:
                                json_validation_error:
                                  type: string
                                  example: I have a problem with the structure of the passed in JSON.
                          example_request_body:
                            title: AMS User Credentials
                            x-tags:
                              - JsonRequestBody
                            description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                            type: object
                            properties:
                              authorization_credentials:
                                type: object
                                description: AMS User credentials provided by the AMS customer.
                                properties:
                                  username:
                                    type: string
                                    description: AMS username
                                    minLength: 2
                                    maxLength: 8
                                    example: JOEA
                                  password:
                                    type: string
                                    description: AMS password
                                    maxLength: 8
                                    minLength: 4
                                    example: '1234'
                                required:
                                  - username
                                  - password
                            required:
                              - authorization_credentials
              - title: Bad DTC Customer Credentials Format Response
                x-tags:
                  - JsonReturnBody
                type: object
                properties:
                  ams_api_response:
                    type: object
                    properties:
                      error_state:
                        type: boolean
                        example: true
                      error_msg:
                        type: string
                        example: The APi handler indicated an error condition via the HTTP return code
                      endpoint_response:
                        type: object
                        properties:
                          error_msg:
                            type: string
                            example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                          json_validation_errors:
                            type: array
                            minItems: 1
                            items:
                              type: object
                              properties:
                                json_validation_error:
                                  type: string
                                  example: I have a problem with the structure of the passed in JSON.
                          example_request_body:
                            title: DTC Customer INET Credentials
                            x-tags:
                              - JsonRequestBody
                            description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                            type: object
                            properties:
                              authorization_credentials:
                                type: object
                                description: DTC Customer credentials created/maintained by the customer.
                                properties:
                                  system_id:
                                    type: string
                                    description: The system ID context to which the DTC customer credentials belong.
                                    maxLength: 4
                                    minLength: 3
                                    example: WAPI
                                  username:
                                    type: string
                                    description: The DTC customer username (email)
                                    maxLength: 60
                                    minLength: 7
                                    example: joeschmo@thiswinery.com
                                  password:
                                    type: string
                                    description: The DTC customer password
                                    maxLength: 20
                                    minLength: 4
                                    example: '1234'
                                required:
                                  - username
                                  - password
                                  - system_id
                            required:
                              - authorization_credentials
    401InvalidApiCredsResponse:
      description: Unauthorized - Invalid API credentials
      content:
        application/json:
          schema:
            title: 401 - Invalid API User Credentials Response
            x-tags:
              - FailureResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: true
                  error_msg:
                    type: string
                    example: Invalid username or password
    401UnauthorizedResponse:
      description: Unauthorized - Invalid Authorization GUID
      content:
        application/json:
          schema:
            title: Unauthorized - Invalid/Missing Authorization GUID Response
            x-tags:
              - FailureResponse
            type: object
            properties:
              ams_api_response:
                type: object
                properties:
                  error_state:
                    type: boolean
                    example: true
                  error_msg:
                    type: string
                    example: Invalid authorization GUID.
  securitySchemes:
    AMSBearerAuth:
      type: http
      scheme: bearer
  schemas:
    ApiUserAuthCredentials:
      title: API User Credentials
      x-tags:
        - JsonRequestBody
      type: object
      description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
      properties:
        authorization_credentials:
          type: object
          description: API credentials provided by AMS upon agreement to use the API.
          properties:
            username:
              type: string
              description: API username
              minLength: 1
              maxLength: 30
              example: JOEA
            password:
              type: string
              description: API password
              maxLength: 30
              minLength: 4
              example: '1234'
          required:
            - username
            - password
      required:
        - authorization_credentials
    UserAuthCredentials:
      title: AMS User Credentials
      x-tags:
        - JsonRequestBody
      description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
      type: object
      properties:
        authorization_credentials:
          type: object
          description: AMS User credentials provided by the AMS customer.
          properties:
            username:
              type: string
              description: AMS username
              minLength: 2
              maxLength: 8
              example: JOEA
            password:
              type: string
              description: AMS password
              maxLength: 8
              minLength: 4
              example: '1234'
          required:
            - username
            - password
      required:
        - authorization_credentials
    CustAuthCredentials:
      title: DTC Customer INET Credentials
      x-tags:
        - JsonRequestBody
      description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
      type: object
      properties:
        authorization_credentials:
          type: object
          description: DTC Customer credentials created/maintained by the customer.
          properties:
            system_id:
              type: string
              description: The system ID context to which the DTC customer credentials belong.
              maxLength: 4
              minLength: 3
              example: WAPI
            username:
              type: string
              description: The DTC customer username (email)
              maxLength: 60
              minLength: 7
              example: joeschmo@thiswinery.com
            password:
              type: string
              description: The DTC customer password
              maxLength: 20
              minLength: 4
              example: '1234'
          required:
            - username
            - password
            - system_id
      required:
        - authorization_credentials
    ReturnedImpersonationToken:
      title: Impersonation Token Information
      x-tags:
        - JsonReturnBody
      type: object
      properties:
        impersonation_token:
          type: string
          example: adsjfkl-1243-alsdjkf
        token_timeout_minutes:
          type: integer
          example: 30
    BadApiUserRequest:
      title: Bad API User Credentials Format Response
      x-tags:
        - JsonReturnBody
      type: object
      properties:
        ams_api_response:
          type: object
          properties:
            error_state:
              type: boolean
              example: true
            error_msg:
              type: string
              example: The APi handler indicated an error condition via the HTTP return code
            endpoint_response:
              type: object
              properties:
                error_msg:
                  type: string
                  example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                json_validation_errors:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    properties:
                      json_validation_error:
                        type: string
                        example: I have a problem with the structure of the passed in JSON.
                example_request_body:
                  title: API User Credentials
                  x-tags:
                    - JsonRequestBody
                  type: object
                  description: 'The request body for API use authorization. These credentials are used to obtain an authorization GUID for use of other, protected, API endpoints.'
                  properties:
                    authorization_credentials:
                      type: object
                      description: API credentials provided by AMS upon agreement to use the API.
                      properties:
                        username:
                          type: string
                          description: API username
                          minLength: 1
                          maxLength: 30
                          example: JOEA
                        password:
                          type: string
                          description: API password
                          maxLength: 30
                          minLength: 4
                          example: '1234'
                      required:
                        - username
                        - password
                  required:
                    - authorization_credentials
    BadAmsUserRequest:
      title: Bad AMS User Credentials Format Response
      x-tags:
        - JsonReturnBody
      type: object
      properties:
        ams_api_response:
          type: object
          properties:
            error_state:
              type: boolean
              example: true
            error_msg:
              type: string
              example: The APi handler indicated an error condition via the HTTP return code
            endpoint_response:
              type: object
              properties:
                error_msg:
                  type: string
                  example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                json_validation_errors:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    properties:
                      json_validation_error:
                        type: string
                        example: I have a problem with the structure of the passed in JSON.
                example_request_body:
                  title: AMS User Credentials
                  x-tags:
                    - JsonRequestBody
                  description: The request body used to obtain an AMS User impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                  type: object
                  properties:
                    authorization_credentials:
                      type: object
                      description: AMS User credentials provided by the AMS customer.
                      properties:
                        username:
                          type: string
                          description: AMS username
                          minLength: 2
                          maxLength: 8
                          example: JOEA
                        password:
                          type: string
                          description: AMS password
                          maxLength: 8
                          minLength: 4
                          example: '1234'
                      required:
                        - username
                        - password
                  required:
                    - authorization_credentials
    BadDtcCustRequest:
      title: Bad DTC Customer Credentials Format Response
      x-tags:
        - JsonReturnBody
      type: object
      properties:
        ams_api_response:
          type: object
          properties:
            error_state:
              type: boolean
              example: true
            error_msg:
              type: string
              example: The APi handler indicated an error condition via the HTTP return code
            endpoint_response:
              type: object
              properties:
                error_msg:
                  type: string
                  example: 'There is at least one error with the given JSON data, see other returned data for an example object with additional information'
                json_validation_errors:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    properties:
                      json_validation_error:
                        type: string
                        example: I have a problem with the structure of the passed in JSON.
                example_request_body:
                  title: DTC Customer INET Credentials
                  x-tags:
                    - JsonRequestBody
                  description: The request body used to obtain a DTC Customer impersonation GUID to be used in conjunction with an authorization GUID. The impersonation GUID will further contextualize the actions and data when using a particular API endpoint.
                  type: object
                  properties:
                    authorization_credentials:
                      type: object
                      description: DTC Customer credentials created/maintained by the customer.
                      properties:
                        system_id:
                          type: string
                          description: The system ID context to which the DTC customer credentials belong.
                          maxLength: 4
                          minLength: 3
                          example: WAPI
                        username:
                          type: string
                          description: The DTC customer username (email)
                          maxLength: 60
                          minLength: 7
                          example: joeschmo@thiswinery.com
                        password:
                          type: string
                          description: The DTC customer password
                          maxLength: 20
                          minLength: 4
                          example: '1234'
                      required:
                        - username
                        - password
                        - system_id
                  required:
                    - authorization_credentials
